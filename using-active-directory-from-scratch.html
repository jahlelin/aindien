<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Using Active Directory From Scratch - Jason&#x27;s Computing Guides</title><meta name="description" content="Active directory makes managing a lot of users and machines a doable task. It organizes all of your resources and users. "><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://aindien.com/using-active-directory-from-scratch.html"><link rel="alternate" type="application/atom+xml" href="https://aindien.com/feed.xml" title="Jason&#x27;s Computing Guides - RSS"><link rel="alternate" type="application/json" href="https://aindien.com/feed.json" title="Jason&#x27;s Computing Guides - JSON"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://aindien.com/assets/css/style.css?v=166a31b4480c68773db8a06507216db7"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://aindien.com/using-active-directory-from-scratch.html"},"headline":"Using Active Directory From Scratch","datePublished":"2025-04-11T22:11-05:00","dateModified":"2025-04-13T18:43-05:00","description":"Active directory makes managing a lot of users and machines a doable task. It organizes all of your resources and users. ","author":{"@type":"Person","name":"Jason Moore","url":"https://aindien.com/authors/jason-moore/"},"publisher":{"@type":"Organization","name":"Jason Moore"}}</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-393JFJ482L"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-393JFJ482L');</script><script id="mcjs">!function(c,h,i,m,p){m=c.createElement(h),p=c.getElementsByTagName(h)[0],m.async=1,m.src=i,p.parentNode.insertBefore(m,p)}(document,"script","https://chimpstatic.com/mcjs-connected/js/users/5aefa50c3a5900492b165a83f/93dcd5a76da18d3becc7e677f.js");</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://aindien.com/">Jason&#x27;s Computing Guides</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://aindien.com/about-me.html" target="_self">Andromeda</a></li><li><a href="https://aindien.com/python-basics.html" target="_self">Python</a></li><li><a href="https://aindien.com/linux-essentials-.html" target="_self">Linux</a></li><li><a href="https://aindien.com/getting-started-with-git.html" target="_self">Git</a></li><li><a href="https://aindien.com/networking-essentials.html" target="_self">Networking</a></li><li><a href="https://aindien.com/r-essentials.html" target="_self">R</a></li><li><a href="https://aindien.com/c-essentials.html" target="_self">C++</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://aindien.com/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://aindien.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://aindien.com/media/website/computing-logo-2.jpg" srcset="https://aindien.com/media/website/responsive/computing-logo-2-xs.jpg 300w, https://aindien.com/media/website/responsive/computing-logo-2-sm.jpg 480w, https://aindien.com/media/website/responsive/computing-logo-2-md.jpg 768w, https://aindien.com/media/website/responsive/computing-logo-2-lg.jpg 1024w, https://aindien.com/media/website/responsive/computing-logo-2-xl.jpg 1360w, https://aindien.com/media/website/responsive/computing-logo-2-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2025-04-11T22:11">April 11, 2025</time></div><h1>Using Active Directory From Scratch</h1><div class="post__meta post__meta--author"><a href="https://aindien.com/authors/jason-moore/" class="feed__author invert">Jason Moore</a></div></div></header></div><div class="wrapper post__entry"><p>Active directory makes managing a lot of users and machines a doable task. It<br>organizes all of your resources and users. </p><p> </p><p><a target="_blank" href="https://amzn.to/3y97zia" rel="noopener">Samsung Store on Amazon!</a></p><p> </p><div class="post__toc"><h3>Table of Contents</h3><ul><li><a href="#mcetoc_1iooccnhr4">Creating Accounts</a></li><li><a href="#mcetoc_1ioocjsbv1i">Updating Accounts</a></li><li><a href="#mcetoc_1iooojbup2a">Groups</a></li></ul></div><p> </p><h2 id="mcetoc_1iooccnhr4" class="align-center"><span style="color: #236fa1;"><strong>Creating Accounts</strong></span></h2><p>Users must have access to resources to access them. To access anything, they<br>have to be authenticated. Authentication is proving who you are and can happen<br>in many ways. The most common is by logging on to your computer at the beginning<br>of the day. However, your company could use smart cards or fingerprint devices.<br>Often, large companies will use more than one option.<br><br>When you log on in the mornings, you are logging in to the domain and not just<br>the local computer. It uses the Kerberos protocol when authenticating a user.<br>The local computer must have an accurate time or you will not be able to<br>authenticate. <br><br>Once a user has been authenticated onto the system, they must have authorization<br>to access any particular resources. Resources are things like file shares and<br>email. This is done by a token that is created on your computer. The token<br>contains various data and talks to the resource you are trying to access. It<br>decides if you will be able to do so. Tokens are created locally and are not<br>supposed to travel across the network. <br><br>You decide if you need Active Directory or not by considering if you want to do<br>this manually for all your users. I am sure a few is no problem but if you have<br>10,000 users that would just be impossible. <br><br>You will encounter a lot of terminology. One of the first is called a forest.<br>This is your Active Directory. It can contain one or more domains. The first<br>domain is called the root domain. All the domains you create share a common<br>configuration that you set up. <br><br>A domain is a container. It includes users, machines, groups, and other things.<br>Administrators of one domain will not have access to other domains. It is the<br>same with permissions. Objects inside one domain cannot affect objects outside<br>the domain. Policies work the same way. They should only be applied to their one<br>domain. <br><br>An organizational unit is another type of container. It exists within domains.<br>It holds user, computer, and other object data. These units exist to give split<br>up the duties of administrators and dictate how group policies get applied.<br><br>Creating users and managing their accounts accounts for a lot of the work of an administrator. Their is work to do anytime a user leaves, joins, changes groups,<br>or needs a password reset. Many times users are put into groups because they<br>have similar needs. An example of this can be the users from a certain<br>department because they all need similar permissions to resources. User accounts<br>change the most because of this. <br><br>When creating new accounts, it is often best to base them off a template. Then,<br>you are just duplicating something that works instead of not remembering<br>everything. User accounts are created with the Active Directory graphical tools<br>or with Powershell. Run Powershell commands an as administrator. <br><br>You will need to first download the Active Directory module into Powershell.<br><br><code>import-module ActiveDirectory</code><br><br>It will probably be easier to use the graphical tools for most people. Just open<br>one of the graphical tools and click new user from the menu. Give the<br>information that is asked of you. In fact, the best practice for this sort of<br>thing is to use a template that you know works correctly. Then just duplicate<br>that for each new user. It is something like this:</p><p> </p><ul><li>open ADUC</li><li>choose account to use as template</li><li>right click and choose copy</li><li>give the correct name for new user</li><li>enter logon name then click next</li><li>enter password and click next</li><li>click finish<br><br><br></li></ul><p>When you have to create many new users at once, it is much better to use<br>Powershell for this. You know it works and it is much faster. Here is an<br>example:<br><br><code>$newpass = read-host "password" -assecurestring</code><br><code>new-aduser -name "moore jason" -samaccountname jmoore `</code><br><code>-userprincipalname "jmoore@aindien.com" -accountpassword $newpass `</code><br><code>-path "cn=users,dc=aindien,dc=com" -enabled:$true</code><br><br>Modify this as needed. There are a lot more options you can use to script new<br>user creation. Powershell documentation for the Active Directory module will<br>show you these details.</p><h2 id="mcetoc_1ioocjsbv1i" class="align-center"><br><span style="color: #236fa1;"><strong>Updating Accounts</strong></span></h2><p>Part of account management includes updating and deleting accounts. We update<br>accounts because phone numbers and addresses can change. We can also disable or<br>enable accounts as needed. <br><br>Delete accounts when those users have left the company. Otherwise, it is a<br>security risk. Active Directory has to be updated so it can be efficient. <br><br>To modify a user account, use one of the graphical tools:</p><ul><li>search for the account you want to modify</li><li>right click that account and choose properties</li><li>choose the field you need to modify</li></ul><p><br>When changing a field, clear it first and then type in the correct value. We can<br>also do it using Powershell.<br><br><code>set-aduser -identity "cn=Moore Jason, cn=users, dc=aindien, dc =com"</code><br><code>-officephone "345 6789"</code><br><br>If a user is going to be gone for a while, but still with the company, then<br>disabling the account should be considered. If they will not be accessing it<br>then it would be a security vulnerability. It can just be re-enabled when the<br>user gets back. It is easy to disable an account:</p><ul><li>search for the account</li><li>right click it</li><li>choose disable</li></ul><p>Using Powershell its easy too.<br><br><code>disable-adaccount -identity jmoore</code><br><br>You do the exact same process to enable accounts. Right click the account and<br>choose enable. <br><br><code>enable-adaccount -identity jmoore</code><br><br>If a user leaves the company then it is time to delete the account. To do so:</p><ul><li>search for the account in question</li><li>remove protection against deletion, if enabled</li><li>right click and choose delete</li><li>confirm that is what you want to do in pop-up box</li></ul><p> </p><h2 id="mcetoc_1iooojbup2a" class="align-center"><span style="color: #236fa1;"><strong>Groups</strong></span></h2><p>Groups are another way to organize your users and data. You definitely want to<br>use them too. You put the users from some department into the same group. You<br>give the group certain permissions. All the users in that group now have the<br>same permissions. Groups makes you more efficient.<br><br>Groups are just containers. They can hold users, computers, and other groups<br>too. There are several kinds of groups. Each has advantages. The main action you<br>take to groups is adding and removing users. <br><br>There are two types of groups, security and distribution. Security groups helps<br>you handle permissions for your users. Distribution groups are used in Exchange<br>to send messages to other groups. A group can contain user accounts, computer<br>accounts, and other groups. User accounts or computers belong to a global group,<br>global groups belong to domain local groups, and those belong to access control<br>lists. The access control lists control access to your resources. These<br>resources can be shares, folders, files, and printers.<br><br>Creating groups is a straightforward process. You can do it with either the<br>graphical tools or with Powershell. You have to know what container to create it<br>in, a group name, and the group samaccountname. </p><ul><li>open the graphical tool you prefer</li><li>go to the container you want to create it in</li><li>right click the container</li><li>choose new group</li><li>click ok to finish</li></ul><p><br>Your new group is created. It can be modified as well in the future. We can<br>create a group using Powershell as well:<br><br><code>new-adgroup -name testgroup -path "cn=users, dc=aindien, dc=com"</code><br><code>-groupcategory security -groupscope global</code><br><code>-description "test group"</code><br><br>Deleting a group can be done when necessary. Make sure it is no longer needed<br>before you do. In your graphical tools just right click the group and click<br>delete. In Powershell we can do:<br><br><code>remove-adgroup -identity testgroup -confirm:$false</code><br><br>Managing groups boils down to viewing members, adding new members, and removing<br>members from the group. In the graphical tools, right click and select<br>properties. Once you have your list of members, select a user and click the<br>remove button. To add a user to a group using Powershell use:<br><br><code>add-adgroupmember -identity testgroup -members "cn=moore jason, cn=users,</code><br><code>dc=aindien, dc=com"</code><br><br>Removing a group member using Powershell is:<br><br><code>remove-adgroupmember -identity testgroup -members jmoore -confirm:$false</code><br><br><br></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on April 13, 2025</p><ul class="post__tag"><li><a href="https://aindien.com/active-directory/">active directory</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Faindien.com%2Fusing-active-directory-from-scratch.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://aindien.com/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/share?url=https%3A%2F%2Faindien.com%2Fusing-active-directory-from-scratch.html&amp;via=_Aindien&amp;text=Using%20Active%20Directory%20From%20Scratch" class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://aindien.com/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span></a></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://aindien.com/authors/jason-moore/" class="invert" rel="author">Jason Moore</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://aindien.com/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://aindien.com/intro-to-sql.html" class="invert post__nav-link" rel="prev"><span>Previous</span> SQL Explained</a></div></div></nav><div class="banner banner--after-post"><div class="wrapper"><link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }
	/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form action="https://aindien.us11.list-manage.com/subscribe/post?u=5aefa50c3a5900492b165a83f&amp;id=1c348b805a" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate><div id="mc_embed_signup_scroll"><h2>Subscribe</h2><div class="indicates-required"><span class="asterisk">*</span> indicates required</div><div class="mc-field-group"><label for="mce-EMAIL">Email Address <span class="asterisk">*</span></label> <input type="email" name="EMAIL" class="required email" id="mce-EMAIL"></div><div class="mc-field-group"><label for="mce-FNAME">First Name</label> <input type="text" name="FNAME" id="mce-FNAME"></div><div class="mc-field-group"><label for="mce-LNAME">Last Name</label> <input type="text" name="LNAME" id="mce-LNAME"></div><div id="mce-responses" class="clear"><div class="response" id="mce-error-response" style="display:none"></div><div class="response" id="mce-success-response" style="display:none"></div></div><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_5aefa50c3a5900492b165a83f_1c348b805a" tabindex="-1"></div><div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div></div></form></div><script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script><script type="text/javascript">(function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';}(jQuery));var $mcj = jQuery.noConflict(true);</script></div></div></main><footer class="footer"><div class="footer__copyright"><p>Jason Moore 2022</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://aindien.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://aindien.com/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>